{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport * as Api from '../Api/Api'; // export const fetchContacts = createAsyncThunk(\n//     \"contacts/fetchContacts\",\n//     async (_, {rejectWithValue}) => {\n//         try{\n//             const result = await Api.getContacts()\n//             return result\n//         } catch(err){\n//             return rejectWithValue(err)\n//         }\n//     }\n// );\n\nexport const addContact = createAsyncThunk(\"contacts/addContact\", async (data, _ref) => {\n  let {\n    rejectWithValue\n  } = _ref;\n\n  try {\n    const result = await Api.addContact(data);\n    return result;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n}, {\n  condition: (data, _ref2) => {\n    let {\n      getState\n    } = _ref2;\n    const {\n      contacts\n    } = getState();\n    const {\n      name\n    } = data;\n    const nameCompare = name.toLowerCase();\n    const result = contacts.items.find(_ref3 => {\n      let {\n        name\n      } = _ref3;\n      return name.toLowerCase() === nameCompare;\n    });\n\n    if (result) {\n      alert(`${name} has already been added`);\n      return false;\n    }\n  }\n});\nexport const removeContact = createAsyncThunk(\"contacts/removeContact\", async (id, _ref4) => {\n  let {\n    rejectWithValue\n  } = _ref4;\n\n  try {\n    const result = await Api.removeContact(id);\n    return result.id;\n  } catch (err) {\n    return rejectWithValue(err);\n  }\n});","map":{"version":3,"sources":["/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/src/redux/operations.js"],"names":["createAsyncThunk","Api","addContact","data","rejectWithValue","result","err","condition","getState","contacts","name","nameCompare","toLowerCase","items","find","alert","removeContact","id"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AAEA,OAAO,KAAKC,GAAZ,MAAqB,YAArB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,UAAU,GAAGF,gBAAgB,CACtC,qBADsC,EAEtC,OAAOG,IAAP,WAAmC;AAAA,MAAtB;AAACC,IAAAA;AAAD,GAAsB;;AAC/B,MAAG;AACC,UAAMC,MAAM,GAAG,MAAMJ,GAAG,CAACC,UAAJ,CAAeC,IAAf,CAArB;AACA,WAAOE,MAAP;AACH,GAHD,CAGE,OAAMC,GAAN,EAAU;AACR,WAAOF,eAAe,CAACE,GAAD,CAAtB;AACH;AACJ,CATqC,EAUtC;AACIC,EAAAA,SAAS,EAAE,CAACJ,IAAD,YAAsB;AAAA,QAAf;AAACK,MAAAA;AAAD,KAAe;AAC7B,UAAM;AAACC,MAAAA;AAAD,QAAaD,QAAQ,EAA3B;AACA,UAAM;AAACE,MAAAA;AAAD,QAASP,IAAf;AACA,UAAMQ,WAAW,GAAGD,IAAI,CAACE,WAAL,EAApB;AACA,UAAMP,MAAM,GAAGI,QAAQ,CAACI,KAAT,CAAeC,IAAf,CAAoB,SAAY;AAAA,UAAX;AAACJ,QAAAA;AAAD,OAAW;AAC3C,aAAQA,IAAI,CAACE,WAAL,OAAuBD,WAA/B;AACH,KAFc,CAAf;;AAGA,QAAGN,MAAH,EAAU;AACNU,MAAAA,KAAK,CAAE,GAAEL,IAAK,yBAAT,CAAL;AACA,aAAO,KAAP;AACH;AACJ;AAZL,CAVsC,CAAnC;AA0BP,OAAO,MAAMM,aAAa,GAAGhB,gBAAgB,CACzC,wBADyC,EAEzC,OAAOiB,EAAP,YAAiC;AAAA,MAAtB;AAACb,IAAAA;AAAD,GAAsB;;AAC7B,MAAG;AACC,UAAMC,MAAM,GAAG,MAAMJ,GAAG,CAACe,aAAJ,CAAkBC,EAAlB,CAArB;AACA,WAAOZ,MAAM,CAACY,EAAd;AACH,GAHD,CAGE,OAAMX,GAAN,EAAU;AACR,WAAOF,eAAe,CAACE,GAAD,CAAtB;AACH;AACJ,CATwC,CAAtC","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport * as Api from '../Api/Api';\n\n// export const fetchContacts = createAsyncThunk(\n//     \"contacts/fetchContacts\",\n//     async (_, {rejectWithValue}) => {\n//         try{\n//             const result = await Api.getContacts()\n//             return result\n//         } catch(err){\n//             return rejectWithValue(err)\n//         }\n//     }\n// );\n\nexport const addContact = createAsyncThunk(\n    \"contacts/addContact\",\n    async (data, {rejectWithValue}) => {\n        try{\n            const result = await Api.addContact(data)\n            return result;\n        } catch(err){\n            return rejectWithValue(err)\n        }\n    },\n    {\n        condition: (data, {getState}) => {\n            const {contacts} = getState();\n            const {name} = data;\n            const nameCompare = name.toLowerCase();\n            const result = contacts.items.find(({name}) => {\n                return (name.toLowerCase() === nameCompare);\n            });\n            if(result){\n                alert(`${name} has already been added`);\n                return false;\n            }            \n        }\n    }\n)\n\nexport const removeContact = createAsyncThunk(\n    \"contacts/removeContact\",\n    async (id, {rejectWithValue}) => {\n        try{\n            const result = await Api.removeContact(id)\n            return result.id\n        } catch(err){\n            return rejectWithValue(err)\n        }\n    }\n)\n\n\n"]},"metadata":{},"sourceType":"module"}