{"ast":null,"code":"var _jsxFileName = \"/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/src/components/Phonebook/Phonebook.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux'; //import * as operations from '../../redux/operations'\n\nimport * as selectors from '../../redux/selectors';\nimport Filter from '../Filter';\nimport ContactList from '../ContactList';\nimport ContactForm from '../ContactForm';\nimport styles from './Phonebook.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Phonebook = () => {\n  _s();\n\n  const contacts = useSelector(selectors.getAllContacts, shallowEqual);\n  const loading = useSelector(selectors.getContactsLoading, shallowEqual);\n  const error = useSelector(selectors.getContactsError, shallowEqual);\n  const dispatch = useDispatch();\n  const [filter, setFilter] = useState('');\n  useEffect(() => {\n    const getContacts = () => dispatch(operations.fetchContacts());\n\n    getContacts();\n  }, [dispatch]);\n\n  const addContact = info => {\n    dispatch(operations.addContact(info));\n  };\n\n  const removeContact = id => dispatch(operations.removeContact(id));\n\n  const changeFilter = event => {\n    const {\n      value\n    } = event.target;\n    setFilter(value);\n  };\n\n  const filterContacts = () => {\n    const normalizeFilter = filter.toLowerCase();\n    const filteredContacts = contacts.filter(item => item.name.toLowerCase().includes(normalizeFilter));\n    return filteredContacts;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.section,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.title,\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContactForm, {\n      onChange: addContact\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: styles.title,\n      children: \"Contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error while fetching\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this), !error && Boolean(contacts.length) && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        value: filter,\n        onChange: changeFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(ContactList, {\n        contacts: filterContacts(),\n        onDelete: removeContact\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Phonebook, \"LlxLna3pZQNV5G2d86ht2sCS+NQ=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = Phonebook;\nexport default Phonebook;\n\nvar _c;\n\n$RefreshReg$(_c, \"Phonebook\");","map":{"version":3,"sources":["/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/src/components/Phonebook/Phonebook.jsx"],"names":["useState","useEffect","useDispatch","useSelector","shallowEqual","selectors","Filter","ContactList","ContactForm","styles","Phonebook","contacts","getAllContacts","loading","getContactsLoading","error","getContactsError","dispatch","filter","setFilter","getContacts","operations","fetchContacts","addContact","info","removeContact","id","changeFilter","event","value","target","filterContacts","normalizeFilter","toLowerCase","filteredContacts","item","name","includes","section","title","Boolean","length"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n//import * as operations from '../../redux/operations'\nimport * as selectors from '../../redux/selectors';\n\nimport Filter from '../Filter';\nimport ContactList from '../ContactList';\nimport ContactForm from '../ContactForm';\n\nimport styles from './Phonebook.module.css';\n\nconst Phonebook = () => {\n  const contacts = useSelector(selectors.getAllContacts, shallowEqual)\n  const loading = useSelector(selectors.getContactsLoading, shallowEqual)\n  const error = useSelector(selectors.getContactsError, shallowEqual)\n  const dispatch = useDispatch();\n\n  const [filter, setFilter] = useState('');\n\n  useEffect(()=> {\n    const getContacts = () => dispatch(operations.fetchContacts());\n    getContacts();\n}, [dispatch]);\n\n  const addContact = info => {\n    dispatch(operations.addContact(info))\n  }\n  const removeContact = id => dispatch(operations.removeContact(id))\n  const changeFilter = (event => {\n    const { value } = event.target;\n    setFilter(value)\n  });\n  const filterContacts = () => {\n    const normalizeFilter = filter.toLowerCase();\n    const filteredContacts = contacts.filter(item => item.name.toLowerCase().includes(normalizeFilter));\n    return filteredContacts; \n  }\n\n  return (\n    <div className={styles.section}>\n      <h2 className={styles.title}>Phonebook</h2>\n      <ContactForm onChange={addContact} />\n      <h2 className={styles.title}>Contacts</h2>\n      {error && <p>Error while fetching</p>}\n      {!error && Boolean(contacts.length) &&\n      <> \n      <Filter value={filter} onChange={changeFilter} />\n      {loading && <p>Loading.</p>}\n      <ContactList contacts={filterContacts()} onDelete={removeContact} />\n      </>}\n    </div>\n  );\n};\n\nexport default Phonebook;\n"]},"metadata":{},"sourceType":"module"}