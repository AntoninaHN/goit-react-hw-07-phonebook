{"ast":null,"code":"import _asyncToGenerator from\"/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/node_modules/@babel/runtime/regenerator/index.js\";import{createAsyncThunk}from\"@reduxjs/toolkit\";import*as Api from'../Api/Api';export var fetchContacts=createAsyncThunk(\"contacts/fetchContacts\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_,_ref){var rejectWithValue,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue;_context.prev=1;_context.next=4;return Api.getContacts();case 4:result=_context.sent;return _context.abrupt(\"return\",result);case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());export var addContact=createAsyncThunk(\"contacts/addContact\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data,_ref3){var rejectWithValue,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:rejectWithValue=_ref3.rejectWithValue;_context2.prev=1;_context2.next=4;return Api.addContact(data);case 4:result=_context2.sent;return _context2.abrupt(\"return\",result);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);return _context2.abrupt(\"return\",rejectWithValue(_context2.t0));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}(),{condition:function condition(data,_ref5){var getState=_ref5.getState;var _getState=getState(),contacts=_getState.contacts;var name=data.name;var compareNames=name.toLowerCase();var result=contacts.items.find(function(_ref6){var name=_ref6.name;return name.toLowerCase()===compareNames;});if(result){alert(\"\".concat(name,\" has already been added\"));return false;}}});export var removeContact=createAsyncThunk(\"contacts/removeContact\",/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,_ref7){var rejectWithValue,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:rejectWithValue=_ref7.rejectWithValue;_context3.prev=1;_context3.next=4;return Api.removeContact(id);case 4:result=_context3.sent;return _context3.abrupt(\"return\",result.id);case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);return _context3.abrupt(\"return\",rejectWithValue(_context3.t0));case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x5,_x6){return _ref8.apply(this,arguments);};}());","map":{"version":3,"sources":["/Users/tonya/Documents/GitHub/goit-react-hw-07-phonebook/src/redux/operations.js"],"names":["createAsyncThunk","Api","fetchContacts","_","rejectWithValue","getContacts","result","addContact","data","condition","getState","contacts","name","compareNames","toLowerCase","items","find","alert","removeContact","id"],"mappings":"+RAAA,OAASA,gBAAT,KAAiC,kBAAjC,CAEA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,YAArB,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAGF,gBAAgB,CACzC,wBADyC,2FAEzC,iBAAOG,CAAP,kJAAWC,eAAX,MAAWA,eAAX,uCAE6BH,CAAAA,GAAG,CAACI,WAAJ,EAF7B,QAEcC,MAFd,+CAGeA,MAHf,0FAKeF,eAAe,aAL9B,sEAFyC,oEAAtC,CAYP,MAAO,IAAMG,CAAAA,UAAU,CAAGP,gBAAgB,CACtC,qBADsC,2FAEtC,kBAAOQ,IAAP,uJAAcJ,eAAd,OAAcA,eAAd,yCAE6BH,CAAAA,GAAG,CAACM,UAAJ,CAAeC,IAAf,CAF7B,QAEcF,MAFd,iDAGeA,MAHf,8FAKeF,eAAe,cAL9B,wEAFsC,qEAUtC,CACIK,SAAS,CAAE,mBAACD,IAAD,OAAsB,IAAdE,CAAAA,QAAc,OAAdA,QAAc,CAC7B,cAAmBA,QAAQ,EAA3B,CAAOC,QAAP,WAAOA,QAAP,CACA,GAAOC,CAAAA,IAAP,CAAeJ,IAAf,CAAOI,IAAP,CACA,GAAMC,CAAAA,YAAY,CAAGD,IAAI,CAACE,WAAL,EAArB,CACA,GAAMR,CAAAA,MAAM,CAAGK,QAAQ,CAACI,KAAT,CAAeC,IAAf,CAAoB,eAAY,IAAVJ,CAAAA,IAAU,OAAVA,IAAU,CAC3C,MAAQA,CAAAA,IAAI,CAACE,WAAL,KAAuBD,YAA/B,CACH,CAFc,CAAf,CAGA,GAAGP,MAAH,CAAU,CACNW,KAAK,WAAIL,IAAJ,4BAAL,CACA,MAAO,MAAP,CACH,CACJ,CAZL,CAVsC,CAAnC,CA0BP,MAAO,IAAMM,CAAAA,aAAa,CAAGlB,gBAAgB,CACzC,wBADyC,2FAEzC,kBAAOmB,EAAP,uJAAYf,eAAZ,OAAYA,eAAZ,yCAE6BH,CAAAA,GAAG,CAACiB,aAAJ,CAAkBC,EAAlB,CAF7B,QAEcb,MAFd,iDAGeA,MAAM,CAACa,EAHtB,8FAKef,eAAe,cAL9B,wEAFyC,qEAAtC","sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\n\nimport * as Api from '../Api/Api';\n\nexport const fetchContacts = createAsyncThunk(\n    \"contacts/fetchContacts\",\n    async (_, {rejectWithValue}) => {\n        try{\n            const result = await Api.getContacts()\n            return result\n        } catch(err){\n            return rejectWithValue(err)\n        }\n    }\n);\n\nexport const addContact = createAsyncThunk(\n    \"contacts/addContact\",\n    async (data, {rejectWithValue}) => {\n        try{\n            const result = await Api.addContact(data)\n            return result;\n        } catch(err){\n            return rejectWithValue(err)\n        }\n    },\n    {\n        condition: (data, {getState}) => {\n            const {contacts} = getState();\n            const {name} = data;\n            const compareNames = name.toLowerCase();\n            const result = contacts.items.find(({name}) => {\n                return (name.toLowerCase() === compareNames);\n            });\n            if(result){\n                alert(`${name} has already been added`);\n                return false;\n            }            \n        }\n    }\n)\n\nexport const removeContact = createAsyncThunk(\n    \"contacts/removeContact\",\n    async (id, {rejectWithValue}) => {\n        try{\n            const result = await Api.removeContact(id)\n            return result.id\n        } catch(err){\n            return rejectWithValue(err)\n        }\n    }\n)\n\n\n"]},"metadata":{},"sourceType":"module"}